With Rule you will be setting up two main aspects of your logic: your conditions and your rule.  For each different Rule you want, you install a new instance of the app; each instance is one Rule.

You may specify as many conditions as you want.  When you specify multliple devices for one condition, an option is presented so that you can select to test for ANY of the devices meeting the condtion, or ALL of the devices meeting the condition.

If you specify one or more Modes as a condition, the condition will only be True during one of the selected modes.  If you specify Time of Day, the condition will only be True during the specified time interval.  If you specify Days of Week, the condition will only be True on those days.  You can only have a single condition for each of these; if you specify more than one, only the last one will be saved.

After you have specified all of your conditions for your Rule, those conditions will be shown on the app's main page for confirmation.

Next, you specify the Rule.  The Rule is going to describe a logic expression, similar to this:
    Cond1 AND (Cond2 OR Cond3)
    or
    (Cond1 AND Cond2) OR Cond3
    etc. 
You will see this prompt: Enter sub rule for left, or Enter sub rule for right.  What this means is the grouping shown above using parentheses.  As you were to build the first rule above, you would select "Enter sub rule for right" when you got to that part of the Rule description.  In the case of the second rule above you would selectd "Enter sub rule for left" at the very beginning of defining the Rule. You may string out at many conditions as you like, separated by AND and OR after each condition.  As a practical matter, you will see a lot more prompts about entering a sub rule than you need -- basically for every condition.  Your Rule can use as much nesting of parentheses (sub rules) as you need.

When the Rule is installed, it will immediately run the Rule check, and take action as needed.  Evaluation of the Rule is strictly left to right at any level: main rule or sub rule.  If AND is encountered, and the evaluation of the Rule to that point is False, that rule returns False.  If OR is encountered, and the evaluation of the Rule to that point is True, that rule returns True.

The app allows you to specify a Routine to run on Rule success, and another Routine to run on Rule failure.  You may also or instead select some switches to turn on with success, and / or some switches to turn off with failure.  Any of these mechanisms can be used for your Rule to have effect on your system.  These mechanisms are only triggered when the Rule changes from failure to success, or from success to failure.  One or the other will always happen when the Rule is first installed or updated.

In general, the Rule will be evaluated upon any event generated by any of the devices specified in conditions.  If Mode is selected, the Rule will be evaluated upon each mode change.  If Time of Day is selected, the Rule will be evaluated at the beginning and end of the time period each day.  If Days of Week is selected, the Rule will be evaluated at midnight each day.
